---
layout: post
title: "メインMBAをMountain Lionにアップデート（いろいろ確認中）(Jugemより移植)"
slug: メインmbaをmountain-lionにアップデート（いろいろ確認中）
author: johtani
date: 2012-09-03T14:34:00+09:00
comments: true
tags: [備忘録]
---
友人にお値打価格で購入したMac miniはMountain Lionにアップデートしてたのですが、手元のAirはまだアップデートしていませんでした。

夏休み中にバックアップ＋アップデートをしてしまおうと思いMountain Lionにアップデートはしていたのですが、
本格的に触り始めると色々と動かないものがあったので、備忘録としてブログを書いておきます。
（まだ途中ですが。）

<div>
###1.Eclipseが起動しない
Java6が未インストール状態になったみたいで、Eclipseを起動すると、Java6をインストールしなさいと言われました。
で、私の記憶が確かなら、前はJavaコマンドを実行するとインストールされたんですが、ターミナルでjavaコマンドを実行するとjavaはすでにインストールされてる模様。。。
あれ？と思い、-versionを実行すると、JDK7u4と出るじゃないですか。
どうやら、Java7u4は別途入れてたものが残ってる模様。
さて、どーする？ということで、ツイートしたりぐぐってみて、「Java Preferences」なる設定用のアプリ？が有ることに気づき、とりあえず開いてみたらJava6ないからインストールしたら？と言われました。
結果オーライということで、インストール開始。
無事、インストールも終了。Eclipseも起動しました。（ただし、今度はMercurialのプラグインがPythonのライブラリが無いとエラーを出すことに）
</div>

<div>
###2.Xcodeが起動しない。
使ってはいないんですが、Javaの件を調べるのに、起動したらLionじゃないと駄目だよと。
ということで、Xcodeもインストールしなおし。
</div>

<div>
###3. homebrewが動かない
1.で書いた方法で、Eclipse自体は起動したんですが、Mercurialのプラグインがエラーを吐き始めました。
で、見てみると、hgコマンドを実行しようとしてなんか、壊れていると。
で、hgコマンドってどうやってインストールしたか思い出さないまま、とりあえず、homebrewだっけ？と勘違いしたまま、「brew update」を実行したらエラーがでて、「brew install git」でしょ？って言われてしまいました。
コメントにもいただいていたように、Xcodeをインストールしたのだが、コマンドラインツールが入ってないというのが影響しているみたいです。。。
で、ググってみると、こんな情報が。[http://labs.torques.jp/2012/07/04/2830/](http://labs.torques.jp/2012/07/04/2830/)
ただ、そこに有るようにPreferenceのダウンロードを開いてもなーんにも表示されません。
で、更にググってこちらの情報に。[http://qiita.com/items/9dd797f42e7bea674705](http://qiita.com/items/9dd797f42e7bea674705)（なんだか、TLで見かける人のお名前が！）
AppleのDeveloperサイトからダウンロードかぁと思いつつダウンロード用のリンクを踏んだら、アカウント登録しろとのページが。。。
なかなか遠い道のりですね。。。
Appleのアカウント自体は持ってるので、Developerへの追加登録なんですが、日本語が文字化けしまくりの確認ページが出る始末。
もう、めんどくさいので、そのまま登録しちゃいました。
で、ダウンロードする前にもう一回XcodeのPreference見てみたらなんか、ダウンロードする候補が出てきてるじゃないですか！
結局、XcodeのPereference画面からダウンロードすることにしました。
AppleのDeveloperに登録したからなのか、Xcodeのプロジェクトを作ろうとしてXcodeをきちんと起動したからなのかは結局わかっていません。。。
良くないよなぁ。（ご存知の方いたらコメントもらえると嬉しいです。）
で、やっと「homebrew」を入れようかなぁと。
一応その前に「sudo brew update」ってやってみたらどうなる？と挑戦したら今度は動きました。
homebrewが何を判断してinstallでしょ？って言ってたのかもわかっていませんが、updateで良かったみたいです。

ついでに、upgradeもしときました。（こっちは後からインストールしたもののバージョンが上がってるものがあったら更新してくれるコマンドかなぁ？）
</div>

<div>
###4. pipの更新
ただ、brewをupdateしても相変わらず、EclipseのMercurialのPluginはエラーを出してました。
で、ターミナルからhgコマンドを実行してみたら同じエラーが。まぁ、そうですよね。
エラーメッセージを頼りにこれまたググってみたら、同じ状況のひとがいました。[https://groups.google.com/forum/#!msg/mercurial-ja/MxY6lejLXxo/OgJA_knXV6cJ](https://groups.google.com/forum/#!msg/mercurial-ja/MxY6lejLXxo/OgJA_knXV6cJ)（ここにもTLでお世話になってる方のお名前が！！）
で、書いてあるように「とりあえず pip install mercurial で解決しました. 」ということで、コマンドを実行して見ることに。
これが、また失敗します。。。（日頃の行いが悪い？？てか、日頃MBAをメンテできてないのが悪いのか。。。）
そういえば、過去のMBAセットアップのメモを残してたなぁと思い出して「johtani mercurial」でググってみるとちゃんと[書いてある](http://johtani.jugem.jp/?eid=34)じゃないですかー（偉いぞ、自分）
ということで、「sudo easy_install pip」でpipを更新してから「sudo pip install Mercurial」で無事、hgコマンドもインストールし直せました。
Eclipseを起動してもエラーが出ない。（まだbitbucketに接続確認まではできてないですが。。。眠さに勝てず寝てしまいました。）
</div>
